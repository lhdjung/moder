<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="description" content="moder">
<title>Modal counts and frequencies • moder</title>
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.2.2/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.2.2/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- bootstrap-toc --><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@v1.0.1/dist/bootstrap-toc.min.js" integrity="sha256-4veVQbu7//Lk5TSmc7YV48MxtMy98e26cf5MrgZYnwo=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Modal counts and frequencies">
<meta property="og:description" content="moder">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-dark navbar-expand-lg bg-primary"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">moder</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.2.1.9000</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
<li class="active nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-articles">Articles</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-articles">
    <a class="dropdown-item" href="../articles/missings.html">Modes and missing values</a>
    <a class="dropdown-item" href="../articles/metadata.html">Modal counts and frequencies</a>
    <a class="dropdown-item" href="../articles/performance.html">Performance</a>
  </div>
</li>
<li class="nav-item">
  <a class="nav-link" href="../news/index.html">Changelog</a>
</li>
      </ul>
<form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off">
</form>

      <ul class="navbar-nav">
<li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/lhdjung/moder/" aria-label="github">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>

    
  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="" class="logo" alt=""><h1>Modal counts and frequencies</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/lhdjung/moder/blob/HEAD/vignettes/metadata.Rmd" class="external-link"><code>vignettes/metadata.Rmd</code></a></small>
      <div class="d-none name"><code>metadata.Rmd</code></div>
    </div>

    
    
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/lhdjung/moder" class="external-link">moder</a></span><span class="op">)</span></span></code></pre></div>
<p>In addition to finding a vector’s modes, you might be interested in
some metadata about them:</p>
<ul>
<li><p>A vector’s modal <strong>count</strong> is the number of its
modes.</p></li>
<li><p>A vector’s modal <strong>frequency</strong> is the number of
times that any single mode appears in the vector.</p></li>
</ul>
<p>This vignette lays out all the functions for modal metadata. In the
end, it talks about a special feature of these functions, the
<code>max_unique</code> argument.</p>
<div class="section level3">
<h3 id="modal-count">Modal count<a class="anchor" aria-label="anchor" href="#modal-count"></a>
</h3>
<p><code><a href="../reference/mode_count.html">mode_count()</a></code> computes the number of modes:</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/mode_count.html">mode_count</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">5</span>, <span class="fl">5</span>, <span class="fl">6</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] 1</span></span>
<span><span class="fu"><a href="../reference/mode_count.html">mode_count</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">5</span>, <span class="fl">5</span>, <span class="fl">6</span>, <span class="fl">6</span>, <span class="fl">7</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] 2</span></span></code></pre></div>
<p>Even with missing values, the number of modes is sometimes known. It
can only be 1 here because even if the <code>NA</code> is secretly
<code>"b"</code>, then <code>"b"</code> would appear twice, but
<code>"a"</code> would appear three times:</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/mode_count.html">mode_count</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"a"</span>, <span class="st">"a"</span>, <span class="st">"a"</span>, <span class="st">"b"</span>, <span class="cn">NA</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] 1</span></span></code></pre></div>
<p>All of this only works if the full set of modes can be determined.
Below, <code>NA</code> could secretly be <code>7</code>, <code>8</code>,
or any other value. If it’s <code>8</code>, both numbers are equally
frequent. Otherwise, <code>7</code> is the only mode. Since we lack this
information, the number of modes is unknown.</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/mode_count.html">mode_count</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">7</span>, <span class="fl">7</span>, <span class="fl">7</span>, <span class="fl">8</span>, <span class="fl">8</span>, <span class="cn">NA</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] NA</span></span></code></pre></div>
<p>Use <code><a href="../reference/mode_count_range.html">mode_count_range()</a></code> in such cases. It will determine
the minimal and maximal number of modes, never returning
<code>NA</code>. For more on <code><a href="../reference/mode_count_range.html">mode_count_range()</a></code>, see below,
section <em>Maximal number of unique values</em>.</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/mode_count_range.html">mode_count_range</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">7</span>, <span class="fl">7</span>, <span class="fl">7</span>, <span class="fl">8</span>, <span class="fl">8</span>, <span class="cn">NA</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] 1 2</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="modal-frequency">Modal frequency<a class="anchor" aria-label="anchor" href="#modal-frequency"></a>
</h3>
<p><code><a href="../reference/mode_frequency.html">mode_frequency()</a></code> counts the instances of a vector’s
modes in the vector:</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/mode_frequency.html">mode_frequency</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">4</span>, <span class="fl">4</span>, <span class="fl">5</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] 2</span></span>
<span><span class="fu"><a href="../reference/mode_frequency.html">mode_frequency</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">4</span>, <span class="fl">4</span>, <span class="fl">4</span>, <span class="fl">5</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] 3</span></span></code></pre></div>
<p>Missing values are an issue here, even if the mode is obvious. Each
<code>NA</code> might be another instance of the mode, so the frequency
is unknown:</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/mode_frequency.html">mode_frequency</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1</span>, <span class="fl">1</span>, <span class="fl">1</span>, <span class="fl">1</span>, <span class="fl">2</span>, <span class="cn">NA</span>, <span class="cn">NA</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] NA</span></span></code></pre></div>
<p>With <code><a href="../reference/mode_frequency_range.html">mode_frequency_range()</a></code>, at least the minimal and
maximal frequencies can be determined. It never returns <code>NA</code>.
The minimum frequency supposes that no <code>NA</code>s represent the
mode; the maximum frequency supposes that all of them do. In this way,
there are four instances of <code>1</code> without counting the
<code>NA</code>s, and six with counting them:</p>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/mode_frequency_range.html">mode_frequency_range</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1</span>, <span class="fl">1</span>, <span class="fl">1</span>, <span class="fl">1</span>, <span class="fl">2</span>, <span class="cn">NA</span>, <span class="cn">NA</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] 4 6</span></span></code></pre></div>
<div class="section level4">
<h4 id="trivial-modes">Trivial modes<a class="anchor" aria-label="anchor" href="#trivial-modes"></a>
</h4>
<p>Related to frequencies, <code><a href="../reference/mode_is_trivial.html">mode_is_trivial()</a></code> flags cases
where the mode is not meaningful. It returns <code>TRUE</code> if all
values are equally frequent. Modality is trivial in this case because it
is a property of all values taken together, not of some values over
others.</p>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/mode_is_trivial.html">mode_is_trivial</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"a"</span>, <span class="st">"b"</span>, <span class="st">"c"</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] TRUE</span></span>
<span><span class="fu"><a href="../reference/mode_is_trivial.html">mode_is_trivial</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1</span>, <span class="fl">1</span>, <span class="fl">2</span>, <span class="fl">2</span>, <span class="fl">3</span>, <span class="fl">3</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] TRUE</span></span>
<span><span class="fu"><a href="../reference/mode_is_trivial.html">mode_is_trivial</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1</span>, <span class="fl">1</span>, <span class="fl">1</span>, <span class="fl">2</span>, <span class="fl">3</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] FALSE</span></span></code></pre></div>
<p>The mode is clearly not a useful concept in the first two cases <span class="citation">(cf. Härdle, Klinke, and Rönz 2015, 40)</span>. Some
authors say that the mode is not defined if each value appears only once
<span class="citation">(Manikandan 2011, 214)</span>. However, it is
certainly possible for the maximal frequency to be 1, so the only way
for such distributions not to have any modal values would be a specific
exception in the definition of the mode. The same applies to uniformly
distributed data in general. No such exception appears in any definition
that I am aware of. Even if it were to be suggested, I think the more
elegant solution would be to accept all values of uniformly distributed
data as trivially modal.</p>
</div>
</div>
<div class="section level3">
<h3 id="maximal-number-of-unique-values">Maximal number of unique values<a class="anchor" aria-label="anchor" href="#maximal-number-of-unique-values"></a>
</h3>
<p>All of moder’s functions for metadata, such as
<code><a href="../reference/mode_is_trivial.html">mode_is_trivial()</a></code> and <code><a href="../reference/mode_count_range.html">mode_count_range()</a></code>, have
a <code>max_unique</code> argument. It allows you to state how many
unique values your data can have at the maximum. Why is this important?
The two functions care about possible modes beyond the known values. In
other words, their results might depend on whether or not the
<code>NA</code>s can mask modal values that don’t even occur among the
known values! If that is possible, it presents an additional source of
uncertainty.</p>
<p>Conversely, <code>max_unique</code> limits the possible number of
such wildcard modes. Specify it as an integer that is the maximal number
of unique values. If there can be no other values than those already
known, specify <code>max_unique</code> as <code>"known"</code> instead.
Always use <code>"known"</code> if you have factor data or you will get
a warning. (The idea behind factors is that all possible values are
known at the outset.)</p>
<p>Note that this argument does not represent an analytical decision but
simply conveys your knowledge of the data to the computer. There is no
meaningful choice to make: If the maximum number of unique values is
known, you must specify <code>max_unique</code>; if not, you must not do
so. Otherwise, you risk incorrect results if any values are missing. The
default is <code>NULL</code> because the baseline assumption is always
that nothing is known about missing values except for their number.</p>
<p>Below is an example. If two of the <code>NA</code>s represent
<code>8</code> and the other three stand for a third value, all values
appear with the same frequency. In this case, all values would trivially
be modes in the sense of <code><a href="../reference/mode_is_trivial.html">mode_is_trivial()</a></code>. This scenario
is not certain at all, but it can’t be ruled out either, so the function
returns <code>NA</code>. As <code><a href="../reference/mode_count_range.html">mode_count_range()</a></code> shows, there
could be three modes at most. (The minimum is always one if any values
are missing.)</p>
<div class="sourceCode" id="cb10"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">x1</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">7</span>, <span class="fl">7</span>, <span class="fl">7</span>, <span class="fl">8</span>, <span class="cn">NA</span>, <span class="cn">NA</span>, <span class="cn">NA</span>, <span class="cn">NA</span>, <span class="cn">NA</span><span class="op">)</span></span>
<span><span class="fu"><a href="../reference/mode_is_trivial.html">mode_is_trivial</a></span><span class="op">(</span><span class="va">x1</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] NA</span></span>
<span><span class="fu"><a href="../reference/mode_count_range.html">mode_count_range</a></span><span class="op">(</span><span class="va">x1</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] 1 3</span></span></code></pre></div>
<p>The picture is different if we know that each missing value must
represent a known value, i.e., <code>7</code> or <code>8</code>. Even if
two <code>NA</code>s stand for <code>8</code>, the other three can’t be
evenly distributed across <code>7</code> and <code>8</code>, so one of
these values must be more frequent than the other one. This makes the
mode nontrivial. Also, there can only be one mode, so both the minimal
and maximal mode counts are <code>1</code>.</p>
<div class="sourceCode" id="cb11"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">x1</span></span>
<span><span class="co">#&gt; [1]  7  7  7  8 NA NA NA NA NA</span></span>
<span><span class="fu"><a href="../reference/mode_is_trivial.html">mode_is_trivial</a></span><span class="op">(</span><span class="va">x1</span>, max_unique <span class="op">=</span> <span class="st">"known"</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] FALSE</span></span>
<span><span class="fu"><a href="../reference/mode_count_range.html">mode_count_range</a></span><span class="op">(</span><span class="va">x1</span>, max_unique <span class="op">=</span> <span class="st">"known"</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] 1 1</span></span></code></pre></div>
<p>Three more functions have a <code>max_unique</code> parameter:
<code><a href="../reference/mode_count.html">mode_count()</a></code>, <code><a href="../reference/mode_frequency.html">mode_frequency()</a></code>, and
<code><a href="../reference/mode_frequency_range.html">mode_frequency_range()</a></code>. However, this only matters for
corner cases. See <a href="https://github.com/lhdjung/moder/issues/1" class="external-link">this Github
issue</a>.</p>
</div>
<div class="section level2">
<h2 class="unnumbered" id="references">References<a class="anchor" aria-label="anchor" href="#references"></a>
</h2>
<div id="refs" class="references csl-bib-body hanging-indent">
<div id="ref-härdle2015" class="csl-entry">
Härdle, Wolfgang Karl, Sigbert Klinke, and Bernd Rönz. 2015.
<em>Introduction to Statistics: Using Interactive MM*Stat Elements</em>.
Cham: Springer International Publishing. <a href="https://doi.org/10.1007/978-3-319-17704-5" class="external-link">https://doi.org/10.1007/978-3-319-17704-5</a>.
</div>
<div id="ref-manikandan2011" class="csl-entry">
Manikandan, S. 2011. <span>“Measures of Central Tendency: Median and
Mode.”</span> <em>Journal of Pharmacology and Pharmacotherapeutics</em>
2 (3): 214–15. <a href="https://doi.org/10.4103/0976-500X.83300" class="external-link">https://doi.org/10.4103/0976-500X.83300</a>.
</div>
</div>
</div>
  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p></p>
<p>Developed by Lukas Jung.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

    </footer>
</div>

  

  

  </body>
</html>
